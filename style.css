body {
    font-family: 'Press Start 2P', sans-serif;
    overscroll-behavior: none;
    touch-action: manipulation;
    user-select: none;
    -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;
    margin: 0; padding: 0; background-color: #111827; 
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    min-height: 100vh; color: white;
    overflow: hidden; 
}

.screen {
    width: 100%;
    max-width: 480px; 
    display: none; /* ⭐️ 기본적으로 모든 .screen 요소는 숨김 */
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    position: absolute; /* ⭐️ 화면 전환을 위해 absolute 사용, body가 flex 중앙 정렬하므로 top/left 불필요 */
    top: 50%; /* 수직 중앙 정렬을 위한 추가 */
    left: 50%; /* 수평 중앙 정렬을 위한 추가 */
    transform: translate(-50%, -50%); /* 수직/수평 중앙 정렬 */
    padding: 20px; 
    box-sizing: border-box; 
}
.screen.show {
    display: flex !important; /* ⭐️ !important를 사용하여 다른 스타일에 덮어쓰이지 않도록 강조 (테스트용) */
    opacity: 1 !important;
    visibility: visible !important;
}

/* 메인 홈 화면 스타일 */
#mainHomeScreen {
    background-color: transparent; /* body 배경색 사용 또는 특정 색 지정 가능 */
    z-index: 20; /* 다른 화면보다 위에 오도록 (필요시) */
}
#mainHomeScreen h1 {
    font-size: clamp(2rem, 10vw, 2.8rem); 
    color: #68d391; 
    text-shadow: 0 0 15px #68d391, 0 0 25px #68d391;
    margin-bottom: 25px;
}
.gem-balance {
    font-size: clamp(1rem, 4vw, 1.3rem);
    color: #f6e05e; 
    margin-bottom: 35px;
    padding: 8px 15px;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
}
.menu-button { /* 기존과 동일 */ }
.menu-button:hover { /* 기존과 동일 */ }
.menu-button:active { /* 기존과 동일 */ }

/* 게임 컨테이너 스타일 */
#gameContainer {
    aspect-ratio: 9 / 16; 
    position: relative; /* ui-overlay의 기준점, .screen에서 absolute가 이미 설정됨 */
    background-color: #1f2937; 
    border-radius: 12px;
    box-shadow: 0 0 30px rgba(74, 222, 128, 0.3); 
    overflow: hidden;
    padding: 0; 
    z-index: 5; /* 홈 화면보다는 아래, 게임오버 화면보다는 아래 */
}
canvas { /* 기존과 동일 */ }
.ui-overlay { /* 기존과 동일 */ }
.top-ui { /* 기존과 동일 */ }
.score, .lives, .combo { /* 기존과 동일 */ }
.combo { /* 기존과 동일 */ }

/* 기존 시작 화면 (startScreen) */
#startScreen {
    background-color: rgba(0, 0, 0, 0.9); 
    color: white;
    z-index: 10; 
    opacity: 0; visibility: hidden; 
    transition: opacity 0.3s ease, visibility 0.3s ease;
}
#startScreen.show { /* startScreen이 .show를 가질 때만 보이도록 */
    opacity: 1 !important; visibility: visible !important; display: flex !important;
}
#startScreen h2 { /* 기존과 동일 */ }

/* 게임 오버 화면 (gameOverScreen) */
#gameOverScreen {
    background-color: rgba(0, 0, 0, 0.9); 
    color: white;
    z-index: 15; /* 게임 컨테이너보다는 위, 메인 홈보다는 아래 (메인 홈이 더 위에 올 수도 있음) */
    opacity: 0; visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}
#gameOverScreen.show { /* gameOverScreen이 .show를 가질 때만 보이도록 */
    opacity: 1 !important; visibility: visible !important; display: flex !important;
}
#gameOverScreen h2 { /* 기존과 동일 */ }
#gameOverScreen p, #startScreen p { /* 기존과 동일 */ }
#questCompletionMessages { /* 기존과 동일 */ }
#questCompletionMessages p { /* 기존과 동일 */ }
.restart-button, .start-button, .home-button { /* 기존과 동일 */ }
.home-button { /* 기존과 동일 */ }
.home-button:hover { /* 기존과 동일 */ }
.restart-button:hover, .start-button:hover { /* 기존과 동일 */ }
.restart-button:active, .start-button:active, .home-button:active { /* 기존과 동일 */ }
